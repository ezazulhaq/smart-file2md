# Release Notes - v1.1.0

**Release Date:** January 31, 2026

## ğŸ‰ Enhanced DOCX Support with OCR

This release significantly enhances DOCX file processing with automatic OCR support for scanned documents.

## âœ¨ New Features

### DOCX OCR Support
- **Automatic OCR Fallback**: When a DOCX file contains no extractable text (e.g., scanned documents), the converter automatically detects this and processes embedded images using OCR
- **Base64 Image Extraction**: Intelligently extracts and decodes base64-encoded images from DOCX HTML output
- **Progress Reporting**: Real-time progress updates when processing documents with multiple images
- **Robust Error Handling**: Failed OCR on individual images doesn't stop the entire conversion process

### Example Usage

```bash
# Convert a scanned DOCX file - OCR automatically activates
smart-file2md scanned_document.docx

# Works seamlessly with text-based DOCX files too
smart-file2md regular_document.docx
```

## ğŸ› Bug Fixes

### Base64 Image Bloat Fix
- **Issue**: DOCX files with embedded images produced massive markdown files (164MB+) with unreadable base64-encoded inline images
- **Solution**: Images are now stripped from markdown output to prevent bloat
- **Impact**: For text-based DOCX files, output is now clean and readable. For image-only DOCX files, OCR extracts the actual text content

## ğŸ”§ Improvements

- **Intelligent Processing**: The converter now distinguishes between text-based and scanned DOCX files automatically
- **Consistent Behavior**: DOCX OCR support matches the existing PDF OCR functionality for a unified user experience
- **Better User Feedback**: Clear console messages indicate when OCR is being used and show processing progress

## ğŸ“Š Performance

- **Text-based DOCX**: Fast conversion (no change from previous version)
- **Scanned DOCX**: Slower due to OCR processing, but necessary for text extraction
- **Large Documents**: Progress reporting every 10 images keeps users informed

## ğŸ§ª Testing

- Added comprehensive test coverage for OCR functionality
- All 10 DOCX converter tests passing
- Verified with real-world scanned documents containing 400+ images

## ğŸ”„ Technical Details

### Modified Files
- `src/markdown_convert/converters/docx_converter.py`: Added OCR support with `_extract_text_from_images()` method
- `tests/test_docx_converter.py`: Added test for OCR activation

### Dependencies
- No new dependencies added (reuses existing `pytesseract` from PDF OCR)
- Requires `tesseract-ocr` system package (already required for PDF OCR)

## ğŸ“ Notes

- OCR only activates when no text is found in the DOCX file
- For best OCR results, ensure Tesseract OCR is properly installed on your system
- Processing time for scanned documents depends on the number and quality of images

## ğŸ”— Related

- See [DOCX Converter Documentation](../README.md) for usage examples
- OCR support complements existing PDF OCR functionality

---

**Full Changelog**: v1.0.0...v1.1.0
